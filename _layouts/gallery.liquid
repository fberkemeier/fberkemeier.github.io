---
layout: default
---
{% if page._styles %}
  <!-- Page/Post style -->
  <style type="text/css">
    {{ page._styles }}
  </style>
{% endif %}

<div class="post">
  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    <p class="post-description">{{ page.description }}</p>
  </header>

  <article>
    <div style="text-align: justify;">
      {{ content }}
    </div>
  </article>

  {% if page.related_publications %}
    <h2>References</h2>
    <div class="publications" style="text-align: justify;">
      {% bibliography --cited_in_order %}
    </div>
  {% endif %}

  {% if site.giscus and page.giscus_comments %}
    {% include giscus.liquid %}
  {% endif %}
</div>

<!-- Medium Zoom Script -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const zoom = mediumZoom('.image-container img', {
      background: 'transparent' // Set background to transparent
    });

    zoom.on('open', (event) => {
      const zoomTitle = event.target.closest('.image-container').querySelector('.zoom-title');
      if (zoomTitle) {
        zoomTitle.style.opacity = '1'; !important // Show the caption with opacity
        zoomTitle.offsetHeight; // Trigger reflow to ensure opacity takes effect
      }
      
      document.body.classList.add('blurred'); // Add blur to background after showing caption
    });

    zoom.on('close', (event) => {
      document.body.classList.remove('blurred'); // Remove blur

      // Hide the zoom-title within the same image container
      const zoomTitle = event.target.closest('.image-container').querySelector('.zoom-title');
      if (zoomTitle) {
        zoomTitle.style.opacity = '0'; // Hide the caption with opacity
      }
    });
  });
</script>

<!-- CSS for Background Blur and Zoom Title Styling -->
<style>
  /* Blur effect for background */
  .blurred *:not(.medium-zoom-image):not(.zoom-title) {
    filter: blur(8px); /* Apply blur to all elements except zoomed image and caption */
    transition: filter 0.3s ease !important; /* Smooth transition for the blur */
  }

  /* Styling for the Zoom Title */
  .zoom-title {
    opacity: 0; /* Initially hidden */
    position: fixed;
    bottom: 10%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 0.7em;
    text-align: center;
    z-index: 3000; /* High z-index to ensure it appears above the zoomed image */
    max-width: 80%;
    transition: opacity 0.3s ease; /* Smooth transition for opacity */
  }
</style>
